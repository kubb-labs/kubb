---
layout: doc

title: ğŸ‰ Release of Kubb 4.0 ğŸ‰
outline: deep
---

<script>
if (typeof window !== 'undefined') {
  const launchConfetti = (confetti) => {
    confetti({
      particleCount: 100,
      spread: 100,
      origin: { y: 0.5 },
    })
  }

  const ensureConfetti = async () => {
    if (globalThis.confetti) {
      return globalThis.confetti
    }

    const { default: confetti } = await import('canvas-confetti')
    globalThis.confetti = confetti
    return confetti
  }

  ensureConfetti().then((confetti) => {
    launchConfetti(confetti)
    globalThis.addEventListener?.('load', () => {
      setTimeout(() => launchConfetti(confetti), 1000)
    })
  })
}
</script>

Published: 2025-09-22

# Introducing Kubb v4

- Correct use of Infinite Query generics with Tanstack-Query
- Support generating mutations with `@kubb/plugin-solid-query`
- Unwrap in Vue infinite query
- Different use of `z.optional`
Before:
```typescript
z.number().int().optional()
```
After:
```typescript
z.optional(z.number().int())
```
- Add `Key` suffix to types when using `asConst`
Before:
```typescript
export const findPetsByStatusQueryParamsStatusEnum = {
  available: 'available',
  pending: 'pending',
  sold: 'sold',
} as const

export type FindPetsByStatusQueryParamsStatusEnum = (typeof findPetsByStatusQueryParamsStatusEnum)[keyof typeof findPetsByStatusQueryParamsStatusEnum]
```
After:
```typescript
export const findPetsByStatusQueryParamsStatusEnum = {
  available: 'available',
  pending: 'pending',
  sold: 'sold',
} as const

export type FindPetsByStatusQueryParamsStatusEnumKey = (typeof findPetsByStatusQueryParamsStatusEnum)[keyof typeof findPetsByStatusQueryParamsStatusEnum]
```


ğŸ‘‹ğŸ½ [Stijn Van Hulle](https://twitter.com/stijnvanhulle)
